# ðŸ—ºï¸ Cyber ERP - ÐœÐ¾Ð´ÑƒÐ»Ð½Ð° Ð´Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð°

## Ð’Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð½Ð° ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ñ‚Ð°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          CYBER ERP Ð¡Ð˜Ð¡Ð¢Ð•ÐœÐ                          â”‚
â”‚                    (Elixir Phoenix Framework)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                          â”‚                          â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Web UI  â”‚             â”‚   REST API  â”‚          â”‚   LiveView     â”‚
   â”‚ (React)  â”‚             â”‚   (JSON)    â”‚          â”‚  (Real-time)   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                          â”‚                          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Phoenix Web Layer         â”‚
                    â”‚   (Controllers, Plugs)      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Business Logic Layer      â”‚
                    â”‚   (Contexts & Schemas)      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                             â”‚                             â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
â”‚PostgreSQLâ”‚  â”‚   Oban     â”‚  â”‚ Email â”‚  â”‚  Files  â”‚  â”‚External APIsâ”‚
â”‚ Database â”‚  â”‚(Background)â”‚  â”‚(SMTP) â”‚  â”‚(Storage)â”‚  â”‚  (ÐÐÐŸ, VIES)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“¦ ÐžÑÐ½Ð¾Ð²Ð½Ð¸ Ð¼Ð¾Ð´ÑƒÐ»Ð¸ (Contexts)

### 1. ðŸ‘¤ Accounts (ÐÐºÐ°ÑƒÐ½Ñ‚Ð¸)
**Ð¦ÐµÐ»:** Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð° Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð¸Ñ‚ÐµÐ»Ð¸ Ð¸ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸

```
Accounts
â”œâ”€â”€ Tenant (ÐžÑ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ)
â”‚   â”œâ”€â”€ id
â”‚   â”œâ”€â”€ name
â”‚   â””â”€â”€ slug
â””â”€â”€ User (ÐŸÐ¾Ñ‚Ñ€ÐµÐ±Ð¸Ñ‚ÐµÐ»)
    â”œâ”€â”€ id
    â”œâ”€â”€ tenant_id
    â”œâ”€â”€ email
    â”œâ”€â”€ hashed_password
    â””â”€â”€ role
```

**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… Ð—Ð°Ð²ÑŠÑ€ÑˆÐµÐ½

---

### 2. ðŸ“Š Accounting (Ð¡Ñ‡ÐµÑ‚Ð¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾)
**Ð¦ÐµÐ»:** Ð¤Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ð¾ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¸ ÑÑ‡ÐµÑ‚Ð¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾

```
Accounting
â”œâ”€â”€ Account (Ð¡Ð¼ÐµÑ‚ÐºÐ° Ð¾Ñ‚ ÑÐ¼ÐµÑ‚ÐºÐ¾Ð¿Ð»Ð°Ð½Ð°)
â”‚   â”œâ”€â”€ code (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: 401)
â”‚   â”œâ”€â”€ name (ÐšÐ°ÑÐ°)
â”‚   â””â”€â”€ account_type
â”‚
â”œâ”€â”€ JournalEntry (Ð¡Ñ‡ÐµÑ‚Ð¾Ð²Ð¾Ð´ÐµÐ½ Ð·Ð°Ð¿Ð¸Ñ)
â”‚   â”œâ”€â”€ entry_no
â”‚   â”œâ”€â”€ entry_date
â”‚   â”œâ”€â”€ status
â”‚   â””â”€â”€ JournalLine[] (Ñ€ÐµÐ´Ð¾Ð²Ðµ)
â”‚
â”œâ”€â”€ Asset (ÐÐºÑ‚Ð¸Ð²)
â”‚   â”œâ”€â”€ code
â”‚   â”œâ”€â”€ name
â”‚   â”œâ”€â”€ acquisition_cost
â”‚   â””â”€â”€ AssetDepreciationSchedule[] (Ð°Ð¼Ð¾Ñ€Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ)
â”‚
â”œâ”€â”€ FinancialAccount (Ð¤Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ð° ÑÐ¼ÐµÑ‚ÐºÐ°)
â”‚   â”œâ”€â”€ account_no
â”‚   â””â”€â”€ balance
â”‚
â””â”€â”€ FinancialTransaction (Ð¤Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ð° Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ñ)
    â”œâ”€â”€ transaction_date
    â”œâ”€â”€ amount
    â””â”€â”€ type
```

**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… Ð—Ð°Ð²ÑŠÑ€ÑˆÐµÐ½ (95%)

---

### 3. ðŸ“¦ Inventory (Ð¡ÐºÐ»Ð°Ð´Ð¾Ð²Ðµ)
**Ð¦ÐµÐ»:** Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð° Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸ Ð¸ ÑÐºÐ»Ð°Ð´Ð¾Ð²Ð¸ Ð½Ð°Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸

```
Inventory
â”œâ”€â”€ Product (ÐŸÑ€Ð¾Ð´ÑƒÐºÑ‚)
â”‚   â”œâ”€â”€ sku
â”‚   â”œâ”€â”€ name
â”‚   â”œâ”€â”€ price
â”‚   â””â”€â”€ category
â”‚
â”œâ”€â”€ Warehouse (Ð¡ÐºÐ»Ð°Ð´)
â”‚   â”œâ”€â”€ code
â”‚   â”œâ”€â”€ name
â”‚   â””â”€â”€ address
â”‚
â”œâ”€â”€ StockMovement (Ð¡ÐºÐ»Ð°Ð´Ð¾Ð²Ð¾ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ)
â”‚   â”œâ”€â”€ movement_type (in/out/transfer)
â”‚   â”œâ”€â”€ product_id
â”‚   â”œâ”€â”€ warehouse_id
â”‚   â””â”€â”€ quantity
â”‚
â””â”€â”€ StockLevel (ÐÐ°Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚)
    â”œâ”€â”€ product_id
    â”œâ”€â”€ warehouse_id
    â”œâ”€â”€ quantity_on_hand
    â””â”€â”€ quantity_available
```

**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… Ð—Ð°Ð²ÑŠÑ€ÑˆÐµÐ½ (Ð½Ð¾Ð²Ð¾Ñ€Ð°Ð·ÑˆÐ¸Ñ€ÐµÐ½)

---

### 4. ðŸ’° Sales (ÐŸÑ€Ð¾Ð´Ð°Ð¶Ð±Ð¸)
**Ð¦ÐµÐ»:** Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð° Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ð±Ð¸ Ð¸ Ñ„Ð°ÐºÑ‚ÑƒÑ€Ð¸

```
Sales
â”œâ”€â”€ Invoice (Ð¤Ð°ÐºÑ‚ÑƒÑ€Ð°)
â”‚   â”œâ”€â”€ invoice_no
â”‚   â”œâ”€â”€ issue_date
â”‚   â”œâ”€â”€ contact_id
â”‚   â”œâ”€â”€ total_amount
â”‚   â””â”€â”€ InvoiceLine[] (Ñ€ÐµÐ´Ð¾Ð²Ðµ)
â”‚       â”œâ”€â”€ product_id
â”‚       â”œâ”€â”€ quantity
â”‚       â”œâ”€â”€ unit_price
â”‚       â””â”€â”€ total_amount
â”‚
â”œâ”€â”€ Quotation (ÐžÑ„ÐµÑ€Ñ‚Ð°)
â”‚   â”œâ”€â”€ quotation_no
â”‚   â”œâ”€â”€ issue_date
â”‚   â”œâ”€â”€ valid_until
â”‚   â””â”€â”€ QuotationLine[] (Ñ€ÐµÐ´Ð¾Ð²Ðµ)
â”‚
â””â”€â”€ Sale (ÐŸÑ€Ð¾Ð´Ð°Ð¶Ð±Ð° - Ð±Ð°Ð·Ð¾Ð²Ð¾)
    â””â”€â”€ basic fields
```

**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… Ð—Ð°Ð²ÑŠÑ€ÑˆÐµÐ½ (Ð½Ð¾Ð²Ð¾Ñ€Ð°Ð·ÑˆÐ¸Ñ€ÐµÐ½)

---

### 5. ðŸ›’ Purchase (ÐŸÐ¾ÐºÑƒÐ¿ÐºÐ¸)
**Ð¦ÐµÐ»:** Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð° Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ¸ Ð¸ Ð¿Ð¾Ñ€ÑŠÑ‡ÐºÐ¸

```
Purchase  [ÐÐžÐ’ ÐœÐžÐ”Ð£Ð›]
â”œâ”€â”€ PurchaseOrder (ÐŸÐ¾Ñ€ÑŠÑ‡ÐºÐ° Ð·Ð° Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ°)
â”‚   â”œâ”€â”€ order_no
â”‚   â”œâ”€â”€ order_date
â”‚   â”œâ”€â”€ supplier_id
â”‚   â””â”€â”€ PurchaseOrderLine[] (Ñ€ÐµÐ´Ð¾Ð²Ðµ)
â”‚       â”œâ”€â”€ product_id
â”‚       â”œâ”€â”€ quantity_ordered
â”‚       â”œâ”€â”€ quantity_received
â”‚       â””â”€â”€ unit_price
â”‚
â””â”€â”€ SupplierInvoice (Ð¤Ð°ÐºÑ‚ÑƒÑ€Ð° Ð¾Ñ‚ Ð´Ð¾ÑÑ‚Ð°Ð²Ñ‡Ð¸Ðº)
    â”œâ”€â”€ invoice_no
    â”œâ”€â”€ supplier_invoice_no
    â”œâ”€â”€ supplier_id
    â””â”€â”€ SupplierInvoiceLine[] (Ñ€ÐµÐ´Ð¾Ð²Ðµ)
```

**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… Ð—Ð°Ð²ÑŠÑ€ÑˆÐµÐ½ (Ð½Ð¾Ð² Ð¼Ð¾Ð´ÑƒÐ»)

---

### 6. ðŸ¦ Bank (Ð‘Ð°Ð½ÐºÐ¸)
**Ð¦ÐµÐ»:** Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð° Ð±Ð°Ð½ÐºÐ¾Ð²Ð¸ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸

```
Bank  [ÐÐžÐ’ ÐœÐžÐ”Ð£Ð›]
â”œâ”€â”€ BankAccount (Ð‘Ð°Ð½ÐºÐ¾Ð²Ð° ÑÐ¼ÐµÑ‚ÐºÐ°)
â”‚   â”œâ”€â”€ iban
â”‚   â”œâ”€â”€ bic
â”‚   â”œâ”€â”€ bank_name
â”‚   â””â”€â”€ current_balance
â”‚
â”œâ”€â”€ BankTransaction (Ð‘Ð°Ð½ÐºÐ¾Ð²Ð° Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ñ)
â”‚   â”œâ”€â”€ transaction_no
â”‚   â”œâ”€â”€ transaction_type
â”‚   â”œâ”€â”€ amount
â”‚   â””â”€â”€ counterparty_name
â”‚
â””â”€â”€ BankStatement (Ð‘Ð°Ð½ÐºÐ¾Ð²Ð¾ Ð¸Ð·Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ðµ)
    â”œâ”€â”€ statement_no
    â”œâ”€â”€ from_date
    â”œâ”€â”€ to_date
    â””â”€â”€ opening/closing balance
```

**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… Ð—Ð°Ð²ÑŠÑ€ÑˆÐµÐ½ (Ð½Ð¾Ð² Ð¼Ð¾Ð´ÑƒÐ»)

---

### 7. ðŸ‘¥ Contacts (CRM)
**Ð¦ÐµÐ»:** Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð° ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¸ Ð¸ Ð´Ð¾ÑÑ‚Ð°Ð²Ñ‡Ð¸Ñ†Ð¸

```
Contacts
â””â”€â”€ Contact (ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚)
    â”œâ”€â”€ name
    â”œâ”€â”€ company
    â”œâ”€â”€ email
    â”œâ”€â”€ phone
    â”œâ”€â”€ vat_number
    â””â”€â”€ is_company
```

**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… Ð—Ð°Ð²ÑŠÑ€ÑˆÐµÐ½ (Ð±Ð°Ð·Ð¾Ð²Ð¾)

---

## ðŸ”— Ð’Ñ€ÑŠÐ·ÐºÐ¸ Ð¼ÐµÐ¶Ð´Ñƒ Ð¼Ð¾Ð´ÑƒÐ»Ð¸Ñ‚Ðµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tenant    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜            â”‚
      â”‚                   â”‚
      â”‚ (tenant_id)       â”‚
      â”‚                   â”‚
      â–¼                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
â”‚  Contact   â”‚â—„â”€â”€â”€â”€â”€â”¤  Invoice  â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
      â”‚                   â”‚
      â”‚                   â”‚ (invoice_id)
      â”‚                   â”‚
      â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Purchase   â”‚      â”‚InvoiceLine  â”‚
â”‚  Order     â”‚      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
                           â”‚ (product_id)
                           â”‚
                           â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚   Product   â”‚
                     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ (product_id)
                            â”‚
                            â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚StockMovementâ”‚
                     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ (warehouse_id)
                            â”‚
                            â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  Warehouse  â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“Š Data Flow (ÐŸÐ¾Ñ‚Ð¾Ðº Ð½Ð° Ð´Ð°Ð½Ð½Ð¸)

### ÐŸÑ€Ð¸Ð¼ÐµÑ€ÐµÐ½ Ð¿Ñ€Ð¾Ñ†ÐµÑ: ÐŸÑ€Ð¾Ð´Ð°Ð¶Ð±Ð°

```
1. ÐšÐ»Ð¸ÐµÐ½Ñ‚ â”€â”€â†’ 2. ÐžÑ„ÐµÑ€Ñ‚Ð° â”€â”€â†’ 3. Ð¤Ð°ÐºÑ‚ÑƒÑ€Ð° â”€â”€â†’ 4. Ð¡ÐºÐ»Ð°Ð´Ð¾Ð²Ð¾ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ
   (Contact)    (Quotation)    (Invoice)      (StockMovement)
                                    â”‚
                                    â–¼
                            5. Ð¡Ñ‡ÐµÑ‚Ð¾Ð²Ð¾Ð´ÐµÐ½ Ð·Ð°Ð¿Ð¸Ñ
                               (JournalEntry)
                                    â”‚
                                    â–¼
                            6. Ð‘Ð°Ð½ÐºÐ¾Ð²Ð° Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ñ
                               (BankTransaction)
```

### Ð¡Ñ‚ÑŠÐ¿ÐºÐ¸:

1. **Ð¡ÑŠÐ·Ð´Ð°Ð²Ð°Ð½Ðµ Ð½Ð° ÐºÐ»Ð¸ÐµÐ½Ñ‚** (`Contact`)
2. **Ð˜Ð·Ð¿Ñ€Ð°Ñ‰Ð°Ð½Ðµ Ð½Ð° Ð¾Ñ„ÐµÑ€Ñ‚Ð°** (`Quotation`)
3. **Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€Ð°Ð½Ðµ Ð½Ð° Ñ„Ð°ÐºÑ‚ÑƒÑ€Ð°** (`Invoice` + `InvoiceLine`)
4. **ÐÐ°Ð¼Ð°Ð»ÑÐ²Ð°Ð½Ðµ Ð½Ð° ÑÐºÐ»Ð°Ð´Ð°** (`StockMovement` Ñ type=out)
5. **Ð¡Ñ‡ÐµÑ‚Ð¾Ð²Ð¾Ð´ÐµÐ½ Ð·Ð°Ð¿Ð¸Ñ** (`JournalEntry` - Ð”Ñ‚ 411 / ÐšÑ‚ 701)
6. **ÐŸÐ»Ð°Ñ‰Ð°Ð½Ðµ** (`BankTransaction`)

---

## ðŸŒ Multi-Tenancy

Ð’ÑÐ¸Ñ‡ÐºÐ¸ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð¸ Ð¸Ð¼Ð°Ñ‚ `tenant_id`:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Tenant 1   â”‚
â”‚   (Ð¤Ð¸Ñ€Ð¼Ð° Ð)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€ Products (tenant_id: 1)
       â”œâ”€ Invoices (tenant_id: 1)
       â””â”€ Contacts (tenant_id: 1)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Tenant 2   â”‚
â”‚   (Ð¤Ð¸Ñ€Ð¼Ð° Ð‘)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€ Products (tenant_id: 2)
       â”œâ”€ Invoices (tenant_id: 2)
       â””â”€ Contacts (tenant_id: 2)
```

**Ð˜Ð·Ð¾Ð»Ð°Ñ†Ð¸Ñ:** Ð’ÑÑÐºÐ° Ð·Ð°ÑÐ²ÐºÐ° ÑÐµ Ñ„Ð¸Ð»Ñ‚Ñ€Ð¸Ñ€Ð° Ð¿Ð¾ `tenant_id`

---

## ðŸ” Ð¡Ð¸Ð³ÑƒÑ€Ð½Ð¾ÑÑ‚ Ð¸ Ð´Ð¾ÑÑ‚ÑŠÐ¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€ role: "admin"    â”€â”€â†’ ÐŸÑŠÐ»ÐµÐ½ Ð´Ð¾ÑÑ‚ÑŠÐ¿
       â”œâ”€ role: "manager"  â”€â”€â†’ Ð§ÐµÑ‚ÐµÐ½Ðµ/ÐŸÐ¸ÑÐ°Ð½Ðµ
       â””â”€ role: "user"     â”€â”€â†’ Ð¡Ð°Ð¼Ð¾ Ñ‡ÐµÑ‚ÐµÐ½Ðµ
```

**Authentication:** JWT tokens
**Authorization:** Role-based

---

## ðŸ“ˆ Ð‘ÑŠÐ´ÐµÑ‰Ð¸ Ð¼Ð¾Ð´ÑƒÐ»Ð¸

### ÐŸÐ»Ð°Ð½Ð¸Ñ€Ð°Ð½Ð¸ Ð·Ð° Ð¤Ð°Ð·Ð° 2:

```
HR (Ð§Ð¾Ð²ÐµÑˆÐºÐ¸ Ñ€ÐµÑÑƒÑ€ÑÐ¸)
â”œâ”€â”€ Employee
â”œâ”€â”€ Contract
â””â”€â”€ Payroll

Planning (ÐŸÐ»Ð°Ð½Ð¸Ñ€Ð°Ð½Ðµ)
â”œâ”€â”€ Project
â”œâ”€â”€ Task
â””â”€â”€ GanttChart

Support (ÐŸÐ¾Ð´Ð´Ñ€ÑŠÐ¶ÐºÐ°)
â”œâ”€â”€ Ticket
â””â”€â”€ KnowledgeBase

BGFisc (ÐÐÐŸ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ)
â”œâ”€â”€ EInvoice
â””â”€â”€ VATDeclaration
```

---

## ðŸŽ¨ Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÐ½ ÑÑ‚ÐµÐº Ð½Ð° Ð¼Ð¾Ð´ÑƒÐ»Ð¸Ñ‚Ðµ

| ÐœÐ¾Ð´ÑƒÐ» | Backend | Frontend | Database |
|-------|---------|----------|----------|
| Accounts | Elixir | LiveView | PostgreSQL |
| Accounting | Elixir | LiveView + React | PostgreSQL |
| Inventory | Elixir | LiveView | PostgreSQL |
| Sales | Elixir | LiveView + React | PostgreSQL |
| Purchase | Elixir | LiveView | PostgreSQL |
| Bank | Elixir | LiveView + React | PostgreSQL |
| Contacts | Elixir | LiveView | PostgreSQL |

---

## ðŸ“ Ð¤Ð°Ð¹Ð»Ð¾Ð²Ð° ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°

```
apps/cyber_core/lib/cyber_core/
â”‚
â”œâ”€â”€ accounts/
â”‚   â”œâ”€â”€ tenant.ex
â”‚   â””â”€â”€ user.ex
â”‚
â”œâ”€â”€ accounting/
â”‚   â”œâ”€â”€ account.ex
â”‚   â”œâ”€â”€ journal_entry.ex
â”‚   â”œâ”€â”€ journal_line.ex
â”‚   â”œâ”€â”€ asset.ex
â”‚   â”œâ”€â”€ asset_depreciation_schedule.ex
â”‚   â”œâ”€â”€ financial_account.ex
â”‚   â””â”€â”€ financial_transaction.ex
â”‚
â”œâ”€â”€ inventory/
â”‚   â”œâ”€â”€ product.ex
â”‚   â”œâ”€â”€ warehouse.ex â­ ÐÐžÐ’
â”‚   â”œâ”€â”€ stock_movement.ex â­ ÐÐžÐ’
â”‚   â””â”€â”€ stock_level.ex â­ ÐÐžÐ’
â”‚
â”œâ”€â”€ sales/
â”‚   â”œâ”€â”€ sale.ex
â”‚   â”œâ”€â”€ invoice.ex â­ ÐÐžÐ’
â”‚   â”œâ”€â”€ invoice_line.ex â­ ÐÐžÐ’
â”‚   â”œâ”€â”€ quotation.ex â­ ÐÐžÐ’
â”‚   â””â”€â”€ quotation_line.ex â­ ÐÐžÐ’
â”‚
â”œâ”€â”€ purchase/ â­ ÐÐžÐ’ ÐœÐžÐ”Ð£Ð›
â”‚   â”œâ”€â”€ purchase_order.ex
â”‚   â”œâ”€â”€ purchase_order_line.ex
â”‚   â”œâ”€â”€ supplier_invoice.ex
â”‚   â””â”€â”€ supplier_invoice_line.ex
â”‚
â”œâ”€â”€ bank/ â­ ÐÐžÐ’ ÐœÐžÐ”Ð£Ð›
â”‚   â”œâ”€â”€ bank_account.ex
â”‚   â”œâ”€â”€ bank_transaction.ex
â”‚   â””â”€â”€ bank_statement.ex
â”‚
â””â”€â”€ contacts/
    â””â”€â”€ contact.ex
```

**ÐžÐ±Ñ‰Ð¾:** 19 ÑÑ…ÐµÐ¼Ð¸, 7 Ð¼Ð¾Ð´ÑƒÐ»Ð°

---

## ðŸš€ ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð½Ð¸ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ð¸

### 1. Context Pattern
Ð’ÑÐµÐºÐ¸ Ð¼Ð¾Ð´ÑƒÐ» Ðµ **ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚** Ñ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð¾ API:

```elixir
CyberCore.Inventory.list_products(tenant_id)
CyberCore.Sales.create_invoice(attrs)
CyberCore.Bank.get_transactions(account_id)
```

### 2. Schema Validation
Ð’ÑÐ¸Ñ‡ÐºÐ¸ Ð´Ð°Ð½Ð½Ð¸ ÑÐµ Ð²Ð°Ð»Ð¸Ð´Ð¸Ñ€Ð°Ñ‚ Ñ‡Ñ€ÐµÐ· **changesets**:

```elixir
def changeset(product, attrs) do
  product
  |> cast(attrs, [:name, :sku, :price])
  |> validate_required([:name, :sku])
  |> unique_constraint([:tenant_id, :sku])
end
```

### 3. Transactions
Ð¡Ð»Ð¾Ð¶Ð½Ð¸ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð² **Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ð¸**:

```elixir
Repo.transaction(fn ->
  with {:ok, invoice} <- create_invoice(attrs),
       {:ok, _lines} <- create_lines(invoice, lines),
       {:ok, _movement} <- update_stock(invoice) do
    invoice
  end
end)
```

---

## ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°

- **ÐœÐ¾Ð´ÑƒÐ»Ð¸:** 7 ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð°
- **Ð¡Ñ…ÐµÐ¼Ð¸:** 19 Ñ„Ð°Ð¹Ð»Ð°
- **Ð’Ñ€ÑŠÐ·ÐºÐ¸:** 30+ Ð°ÑÐ¾Ñ†Ð¸Ð°Ñ†Ð¸Ð¸
- **Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸:** 100+ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð°
- **Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ:** 6 Ñ„Ð°Ð¹Ð»Ð° Ð½Ð° Ð±ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸

---

## âœ… Ð¡Ð»ÐµÐ´Ð²Ð°Ñ‰Ð¸ ÑÑ‚ÑŠÐ¿ÐºÐ¸

1. **ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸** - Ð¡ÑŠÐ·Ð´Ð°Ð²Ð°Ð½Ðµ Ð½Ð° Ð²ÑÐ¸Ñ‡ÐºÐ¸ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð¸
2. **Seeds** - ÐŸÑ€Ð¸Ð¼ÐµÑ€Ð½Ð¸ Ð´Ð°Ð½Ð½Ð¸
3. **ÐšÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð¸** - CRUD Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
4. **API** - REST endpoints
5. **LiveView** - UI Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ¸

---

**Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð°Ñ‚Ð° Ðµ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð½Ð¾ Ð·Ð°Ð²ÑŠÑ€ÑˆÐµÐ½Ð° Ð¸ Ð³Ð¾Ñ‚Ð¾Ð²Ð° Ð·Ð° ÑÐ»ÐµÐ´Ð²Ð°Ñ‰Ð°Ñ‚Ð° Ñ„Ð°Ð·Ð°!** ðŸŽ‰
